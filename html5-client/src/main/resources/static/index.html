<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Demo</title>
    <meta name="description" content=""/>
    <meta name="viewport" content="width=device-width"/>
    <base href="/"/>


</head>
<body ng-app="app" ng-controller="home as home">


<script type="text/javascript" src="/webjars/angularjs/angular.min.js"></script>
<script type="text/javascript">
    angular.module("app", [])
            .run(['$http', function ($http) {

                // <1>
                $http.get(location.protocol + "//" + window.location.host + "/greetings-client-uri")
                        .success(function (data) {
                            $http.get(data ['uri'] + "/greetings-service/greet/World") // <2>
                                    .success(function (data) {
                                        window.alert(data ['greeting']);
                                    })
                                    .error(function (e) {
                                        console.log('oops! ' + JSON.stringify(e));
                                    });

                        })
                        .error(function (e) {
                            window.alert('oops! ' + JSON.stringify(e));
                        });
            }]);
</script>
</body>
</html>